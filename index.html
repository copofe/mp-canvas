<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Rubbing Demo</title>
  <style>
    * {
      padding: 0;
      margin: 0;
    }
  </style>
</head>

<body>
  <canvas id="canvas"></canvas>
</body>
<script type="module">
  import Rubbing from './dist/index.mjs'

  const rubbing = new Rubbing({
    selector: '#canvas',
    background: '#4d78cc',
    // background: {
    //   type: 'radial',
    //   coords: { x1: 50, y1: 50, x2: 50, y2: 50, r1: 0, r2: 50 },
    //   colorStops: [
    //     { offset: 0, color: '#000' },
    //     { offset: 1, color: '#fff' }
    //   ]
    // },
    width: 350,
    height: 500,
    designWidth: 750,
    radius: 20,
  })
  rubbing.init().then(() => {
    rubbing.loadFromJSON({
      objects: [
        {
          type: 'image',
          src: 'https://res.wx.qq.com/mpres/zh_CN/htmledition/pages/login/loginpage/images/bg_banner.5951b65955d.png',
          width: 300,
          height: 100,
          radius: 20,
          top: 300,
          left: 50,
        },
        {
          type: 'circle',
          radius: 26,
          left: 10,
          top: 10,
          fill: {
            type: 'radial',
            coords: { x1: 36, y1: 36, x2: 36, y2: 36, r1: 0, r2: 26 },
            colorStops: [
              { offset: 0, color: '#fff' },
              { offset: 1, color: '#000' }
            ]
          },
        },
        {
          type: 'polygon',
          points: [
            { x: 90, y: 30 },
            { x: 150, y: 100 },
            { x: 80, y: 100 },
            { x: 100, y: 30 }
          ],
          fill: '#000'
        },
        {
          type: 'line',
          points: [
            0, 0,
            100, 100,
          ],
          fill: '#000'
        },
        {
          type: 'text',
          fontSize: 24,
          lineHeight: 32,
          fill: 'purple',
          top: 200,
          left: 50,
          width: 250,
          lineClamp: 1,
          text: '测试测试测试测试测试测试测试测试'
        },
      ]
    })
  })

</script>

</html>